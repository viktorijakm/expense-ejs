<%- include('partials/head.ejs') %>
<%- include('partials/header.ejs') %>

<h2><%= expense && expense._id ? "Edit Expense" : "Add New Expense" %></h2>

<form method="POST" action="<%= action %>">
  <input type="hidden" name="_csrf" value="<%= _csrf %>" />

  <div>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="<%= expense?.title || '' %>" required />
  </div>

  <div>
    <label for="amount">Amount:</label>
    <input type="number" id="amount" name="amount" step="0.01" value="<%= expense?.amount || '' %>" required />
  </div>

  <div>
    <label for="category">Category:</label>
    <input type="text" id="category" name="category" value="<%= expense?.category || '' %>" required />
  </div>

  <div>
    <label for="date">Date:</label>
    <input type="date" id="date" name="date"
      value="<%= expense?.date ? expense.date.toISOString().split('T')[0] : '' %>" required />
  </div>

  <button type="submit"><%= expense && expense._id ? "Update Expense" : "Add Expense" %></button>
  <a href="/expenses">Cancel</a>
</form>

<%- include('partials/footer.ejs') %>
